<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
    </h:head>
    <h:body>
        <ui:composition>
            <main>
                <form jsf:id="mainForm">
                    <div>
                        <label jsf:for="startDate">#{res.startdate}</label>
                        <input jsf:id="startDate" type="date" jsf:value="#{searchBean.startDate}" />
                        <h:message for="startDate" />
                    </div>
                    <div>
                        <label jsf:for="endDate">#{res.enddate}</label>
                        <input jsf:id="endDate" type="date" jsf:value="#{searchBean.endDate}" />
                        <h:message for="endDate" />
                    </div>
                    <div>
                        <label jsf:for="c1">#{res.c1label}</label>
                        <select jsf:id="c1" jsf:value="#{searchBean.c1}" size="1">
                            <option pt:custom-data="items" jsfc="f:selectItems" value="#{searchBean.c1items}" />
                        </select>
                    </div>
                    <div>
                        <label jsf:for="c2">#{res.c2label}</label>
                        <select jsf:id="c2" jsf:value="#{searchBean.c2}" size="1">
                            <option pt:custom-data="items" jsfc="f:selectItems" value="#{searchBean.c2items}" />
                        </select>
                    </div>
                    <div>
                        <label jsf:for="c3">#{res.c3label}</label>
                        <select jsf:id="c3" jsf:value="#{searchBean.c3}" size="1">
                            <option pt:custom-data="items" jsfc="f:selectItems" value="#{searchBean.c3items}" />
                        </select>
                    </div>
                    <div>
                        <label jsf:for="rating" >#{res.ratinglabel}</label>
                        <h:selectOneRadio id="rating" value="#{searchBean.rating}">
                            <f:selectItem id="star4" itemValue="4" itemLabel="#{res.up4}"/>
                            <f:selectItem id="star3" itemValue="3" itemLabel="#{res.up3}"/>
                            <f:selectItem id="star2" itemValue="2" itemLabel="#{res.up2}"/>
                            <f:selectItem id="star1" itemValue="1" itemLabel="#{res.up1}"/>
                        </h:selectOneRadio>
                    </div>
                    <div>
                        <label jsf:for="shop">#{res.shoplabel}</label>
                        <input jsf:id="shop" type="text" jsf:value="#{searchBean.shop}" />
                        <h:message for="shop" />
                    </div>
                    <div>
                        <label jsf:for="note">#{res.notelabel}</label>
                        <textarea jsf:id="note" jsf:value="#{searchBean.note}" rows="3" />
                        <h:message for="note" />
                    </div>
                    <button jsf:action="#{searchBean.search()}">
                        #{res.search}
                    </button>
                </form>
            </main>
            
            <form jsf:id="form">
                <h:dataTable id="dataTable" value="#{searchBean.displayEntries}" var="m" class="cursor-pointer">
                    <h:column>
                        <f:facet name="header">#{res.datelabel}</f:facet>
                        <h:outputText value="#{m.date}">
                            <f:convertDateTime pattern="yyyy/MM/dd" />
                        </h:outputText>
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{res.c1label}</f:facet>
                        #{m.c1}
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{res.c2label}</f:facet>
                        #{m.c2}
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{res.c3label}</f:facet>
                        #{m.c3}
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{res.ratinglabel}</f:facet>
                        <i class="fa fa-coffee" />#{m.rating}
                    </h:column>
                    <h:column>
                        <f:facet name="header">#{res.shoplabel}</f:facet>
                        #{m.shop}
                    </h:column>
                </h:dataTable>
                #{searchBean.searchMessage}
                <input type="hidden" name="rowIndex" jsf:value="#{searchBean.rowIndex}"/>
                <button jsf:id="hiddenBtn" jsf:action="#{searchBean.view()}" style="display: none" />
            </form>

        </ui:composition>
    </h:body>
</html>

